<%- include("header.ejs") %>
<!-- -->
<div class="w-full flex justify-center items-center">
    <a href="/" class="text-center items-center justify-center gap-4 flex">
        <img
            src="/images/logo.png"
            alt="Infinity Arcade"
            class="h-6 opacity-60"
        />
        <div
            href="/"
            class="bg-gradient-to-br from-white to-gray-400 text-transparent bg-clip-text text-center py-4 text-sm opacity-60 tracking-wider inline-block"
        >
            AIStory
        </div>
    </a>
</div>

<div
    class="text-gray-300 text-xs opacity-80 hover:opacity-100 transition-opacity absolute top-4 right-4"
>
    <a href="/login" class="text-purple-500 hover:text-purple-400"> Login</a>
</div>

<div class="container mx-auto text-white max-w-4xl my-4 mt-20 px-4">
    <h1 class="text-4xl font-bold my-4 text-purple-500">Signup</h1>
    <% if (typeof error == "string") { %>
    <p class="text-red-500"><%- error %></p>
    <% } %>
    <!-- -->
    <% if (typeof session_id == "string") { %>
    <p class="text-white-500">Please signup to complete your order</p>
    <br />
    <form
        action="/signup"
        method="post"
        class="w-full lg:max-w-lg flex flex-col gap-6"
    >
        <div>
            <label for="email" class="pb-2 pl-2 block">Email</label>
            <input
                type="email"
                name="email"
                value="<%- order.email %>"
                placeholder="email@address.com"
                class="w-full bg-gray-900 text-white py-4 px-3 focus:border-none focus:ring-0 focus:outline-none rounded-xl"
                required
            />
        </div>
        <div>
            <label for="password" class="pb-2 pl-2 block">Password</label>
            <input
                type="password"
                name="password"
                placeholder="password"
                class="w-full bg-gray-900 text-white py-4 px-3 focus:border-none focus:ring-0 focus:outline-none rounded-xl"
                required
            />
        </div>
        <input type="hidden" name="session_id" value="<%- session_id %>" />
        <input type="hidden" name="order_id" value="<%- order.id %>" />
        <input
            type="submit"
            class="bg-purple-500 hover:bg-purple-600 transition-colors text-white px-6 py-4 rounded-lg mt-4 w-full md:w-auto cursor-pointer focus:ring-0 focus:outline-none"
            value="Sign Up"
        />
    </form>
    <% } %>
</div>

<% if (typeof error !== "string" && typeof session_id !== "string") { %>
<script>
    document.addEventListener("ia-loaded", (e) => {
        document.location = "/signup?session_id=" + window.ia.session_id;
    });
</script>
<% } %>
<!-- -->
<%- include("scripts.ejs") %>
<!-- -->
<%- include("footer.ejs") %>
